{"ast":null,"code":"import _toConsumableArray from\"C:/Users/victo/Desktop/mern-community-app-copy/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/victo/Desktop/mern-community-app-copy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/victo/Desktop/mern-community-app-copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/victo/Desktop/mern-community-app-copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from\"react\";import{AuthContext}from'../hooks/AuthProvider';// replace with actual path to AuthContext\nimport axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{useGetUserID}from\"../hooks/useGetUserID\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),savedPosts=_useState4[0],setSavedPosts=_useState4[1];var _useContext=useContext(AuthContext),isLoggedIn=_useContext.isLoggedIn,setIsLoggedIn=_useContext.setIsLoggedIn;var navigate=useNavigate();var userID=useGetUserID();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),sortedByTags=_useState6[0],setSortedByTags=_useState6[1];useEffect(function(){if(!isLoggedIn){var autoLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:try{response=axios.post('https://localhost:4000/auth/auto-login',{},{withCredentials:true});window.sessionStorage.setItem(\"userID\",response.data.userID);window.sessionStorage.setItem(\"userName\",response.data.username);window.location.reload(true);setIsLoggedIn(true);}catch(error){console.log(\"Not valid\");}case 1:case\"end\":return _context.stop();}},_callee);}));return function autoLogin(){return _ref.apply(this,arguments);};}();autoLogin();}var fetchPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,sortedPosts;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://localhost:4000/posts\");case 3:response=_context2.sent;sortedPosts=response.data.sort(function(a,b){return b._id.localeCompare(a._id);});setPosts(sortedPosts);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function fetchPosts(){return _ref2.apply(this,arguments);};}();var fetchSavedPosts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"https://localhost:4000/posts/savedPosts/ids/\".concat(userID));case 3:response=_context3.sent;setSavedPosts(response.data.savedPosts);_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function fetchSavedPosts(){return _ref3.apply(this,arguments);};}();fetchPosts();if(isLoggedIn){fetchSavedPosts();}else{setSavedPosts([]);}},[userID,isLoggedIn,setIsLoggedIn,navigate]);var savePost=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(postID){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.put(\"https://localhost:4000/posts\",{postID:postID,userID:userID});case 3:response=_context4.sent;setSavedPosts(response.data.savedPosts);_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 10:case\"end\":return _context4.stop();}},_callee4,null,[[0,7]]);}));return function savePost(_x){return _ref4.apply(this,arguments);};}();var sortPostsByTags=function sortPostsByTags(){var sortedPosts=_toConsumableArray(posts).sort(function(a,b){// Convert tags to lowercase and join them into a string for comparison\nvar aTags=a.tags.map(function(tag){return tag.toLowerCase();}).join();var bTags=b.tags.map(function(tag){return tag.toLowerCase();}).join();return aTags.localeCompare(bTags);});setPosts(sortedPosts);setSortedByTags(true);};var sortPostsById=function sortPostsById(){var sortedPosts=_toConsumableArray(posts).sort(function(a,b){return b._id.localeCompare(a._id);});setPosts(sortedPosts);setSortedByTags(false);};var isPostSaved=function isPostSaved(id){return savedPosts.includes(id);};var likePost=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(postID){var postIndex,response,updatedPosts;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:window.alert(userID);postIndex=posts.findIndex(function(post){return post._id===postID;});if(posts[postIndex].likes.includes(userID)){_context5.next=16;break;}_context5.prev=3;_context5.next=6;return axios.put('https://localhost:4000/posts/like',{postID:postID,userID:userID},{withCredentials:true});case 6:response=_context5.sent;updatedPosts=_toConsumableArray(posts);updatedPosts[postIndex].likes.push(userID);updatedPosts[postIndex].likesCount=response.data.likesCount;setPosts(updatedPosts);_context5.next=16;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](3);console.log(_context5.t0);case 16:case\"end\":return _context5.stop();}},_callee5,null,[[3,13]]);}));return function likePost(_x2){return _ref5.apply(this,arguments);};}();var unlikePost=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(postID){var postIndex,response,updatedPosts,userIndex;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:postIndex=posts.findIndex(function(post){return post._id===postID;});if(!posts[postIndex].likes.includes(userID)){_context6.next=16;break;}_context6.prev=2;_context6.next=5;return axios.put('https://localhost:4000/posts/unlike',{postID:postID,userID:userID},{withCredentials:true});case 5:response=_context6.sent;updatedPosts=_toConsumableArray(posts);userIndex=updatedPosts[postIndex].likes.indexOf(userID);updatedPosts[postIndex].likes.splice(userIndex,1);updatedPosts[postIndex].likesCount=response.data.likesCount;setPosts(updatedPosts);_context6.next=16;break;case 13:_context6.prev=13;_context6.t0=_context6[\"catch\"](2);console.log(_context6.t0);case 16:case\"end\":return _context6.stop();}},_callee6,null,[[2,13]]);}));return function unlikePost(_x3){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4\",children:\"Posts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sortedByTags?sortPostsById:sortPostsByTags,children:sortedByTags?'Show Latest Posts':'Sort Posts By Tags'}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled\",children:posts.map(function(post){return/*#__PURE__*/_jsxs(\"li\",{className:\"cardu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex justify-content-between\\r\\nalign-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:post.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Posted by: \",post.userOwner.username]})]}),isLoggedIn&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return savePost(post._id);},className:\"btn \".concat(isPostSaved(post._id)?\"btn-success\":\"btn-primary\"),disabled:isPostSaved(post._id),children:isPostSaved(post._id)?\"Saved\":\"Save\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"img\",{src:post.imageUrl,alt:post.title,className:\"img-fluid\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"instructions\",children:[isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[post.likes.includes(userID)?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return unlikePost(post._id);},className:\"unlike\",children:\"Unlike\"}):/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return likePost(post._id);},className:\"like\",children:\"Like\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"like-count\",children:[post.likesCount,\" likes\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:post.content})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tags\",children:post.tags.map(function(tag,index){return/*#__PURE__*/_jsx(\"ul\",{className:\"ingredient-list\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"card-text\",children:[\"#\",tag]})},index);})})]})]},post._id);})})]});};","map":{"version":3,"names":["React","useEffect","useState","useContext","AuthContext","axios","useNavigate","useGetUserID","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","savedPosts","setSavedPosts","_useContext","isLoggedIn","setIsLoggedIn","navigate","userID","_useState5","_useState6","sortedByTags","setSortedByTags","autoLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","withCredentials","window","sessionStorage","setItem","data","username","location","reload","error","console","log","stop","apply","arguments","fetchPosts","_ref2","_callee2","sortedPosts","_callee2$","_context2","get","sent","sort","a","b","_id","localeCompare","t0","fetchSavedPosts","_ref3","_callee3","_callee3$","_context3","concat","savePost","_ref4","_callee4","postID","_callee4$","_context4","put","_x","sortPostsByTags","_toConsumableArray","aTags","tags","map","tag","toLowerCase","join","bTags","sortPostsById","isPostSaved","id","includes","likePost","_ref5","_callee5","postIndex","updatedPosts","_callee5$","_context5","alert","findIndex","likes","push","likesCount","_x2","unlikePost","_ref6","_callee6","userIndex","_callee6$","_context6","indexOf","splice","_x3","className","children","onClick","title","userOwner","disabled","src","imageUrl","alt","content","index"],"sources":["C:/Users/victo/Desktop/mern-community-app-copy/client/src/pages/home.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { AuthContext } from '../hooks/AuthProvider'; // replace with actual path to AuthContext\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useGetUserID } from \"../hooks/useGetUserID\";\r\nexport const Home = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [savedPosts, setSavedPosts] = useState([]);\r\n  const { isLoggedIn, setIsLoggedIn } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const userID = useGetUserID();\r\n  const [sortedByTags, setSortedByTags] = useState(false);\r\n  useEffect(() => {\r\n  if (!isLoggedIn) {\r\n    const autoLogin = async () => {\r\n      try {\r\n       const response= axios.post('https://localhost:4000/auth/auto-login', {}, { withCredentials: true })\r\n\r\n        window.sessionStorage.setItem(\"userID\", response.data.userID);\r\n        window.sessionStorage.setItem(\"userName\", response.data.username);\r\n        window.location.reload(true);\r\n        setIsLoggedIn(true);\r\n      } catch (error) {\r\n        console.log(\"Not valid\");\r\n      }\r\n    };\r\n    autoLogin();\r\n  }\r\nconst fetchPosts = async () => {\r\ntry {\r\nconst response = await axios.get(\"https://localhost:4000/posts\");\r\nconst sortedPosts = response.data.sort((a, b) => b._id.localeCompare(a._id));\r\nsetPosts(sortedPosts);\r\n} catch (err) {\r\nconsole.log(err);\r\n}\r\n};\r\n\r\nconst fetchSavedPosts = async () => {\r\ntry {\r\nconst response = await axios.get(\r\n`https://localhost:4000/posts/savedPosts/ids/${userID}`\r\n);\r\nsetSavedPosts(response.data.savedPosts);\r\n} catch (err) {\r\nconsole.log(err);\r\n}\r\n};\r\n\r\nfetchPosts();\r\nif (isLoggedIn) {\r\nfetchSavedPosts();\r\n} else {\r\nsetSavedPosts([]);\r\n}\r\n}, [userID, isLoggedIn,setIsLoggedIn,navigate]);\r\n\r\nconst savePost = async (postID) => {\r\ntry {\r\nconst response = await axios.put(\"https://localhost:4000/posts\", {\r\npostID,\r\nuserID,\r\n});\r\nsetSavedPosts(response.data.savedPosts);\r\n} catch (err) {\r\nconsole.log(err);\r\n}\r\n};\r\nconst sortPostsByTags = () => {\r\n    const sortedPosts = [...posts].sort((a, b) => {\r\n      // Convert tags to lowercase and join them into a string for comparison\r\n      const aTags = a.tags.map(tag => tag.toLowerCase()).join();\r\n      const bTags = b.tags.map(tag => tag.toLowerCase()).join();\r\n      return aTags.localeCompare(bTags);\r\n    });\r\n    setPosts(sortedPosts);\r\n    setSortedByTags(true);\r\n  };\r\n  \r\n  const sortPostsById = () => {\r\n    const sortedPosts = [...posts].sort((a, b) => b._id.localeCompare(a._id));\r\n    setPosts(sortedPosts);\r\n    setSortedByTags(false);\r\n  };\r\nconst isPostSaved = (id) => savedPosts.includes(id);\r\nconst likePost = async (postID) => {\r\n  window.alert(userID);\r\n    const postIndex = posts.findIndex(post => post._id === postID);\r\n    if (!posts[postIndex].likes.includes(userID)) {\r\n      try {\r\n        const response = await axios.put('https://localhost:4000/posts/like', {\r\n          postID,\r\n          userID,\r\n        }, {          withCredentials: true\r\n        });\r\n  \r\n        const updatedPosts = [...posts];\r\n        updatedPosts[postIndex].likes.push(userID);\r\n        updatedPosts[postIndex].likesCount = response.data.likesCount;\r\n        setPosts(updatedPosts);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const unlikePost = async (postID) => {\r\n    const postIndex = posts.findIndex(post => post._id === postID);\r\n    if (posts[postIndex].likes.includes(userID)) {\r\n      try {\r\n        const response = await axios.put('https://localhost:4000/posts/unlike', {\r\n          postID,\r\n          userID,\r\n        }, {          withCredentials: true\r\n        });\r\n  \r\n        const updatedPosts = [...posts];\r\n        const userIndex = updatedPosts[postIndex].likes.indexOf(userID);\r\n        updatedPosts[postIndex].likes.splice(userIndex, 1);\r\n        updatedPosts[postIndex].likesCount = response.data.likesCount;\r\n        setPosts(updatedPosts);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n  \r\n\r\nreturn (\r\n<div className=\"home-container\">\r\n<h1 className=\"mt-4\">Posts</h1>\r\n<button onClick={sortedByTags ? sortPostsById : sortPostsByTags}>\r\n      {sortedByTags ? 'Show Latest Posts' : 'Sort Posts By Tags'}\r\n    </button>\r\n<ul className=\"list-unstyled\">\r\n{posts.map((post) => (\r\n    \r\n<li key={post._id} className=\"cardu\">\r\n<div className=\"card-body d-flex justify-content-between\r\nalign-items-center\">\r\n<div>\r\n<h2 className=\"card-title\">{post.title}</h2>\r\n<p>Posted by: {post.userOwner.username}</p>\r\n</div>\r\n\r\n{isLoggedIn && (\r\n<button\r\nonClick={() => savePost(post._id)}\r\nclassName={`btn ${\r\nisPostSaved(post._id) ? \"btn-success\" : \"btn-primary\"\r\n}`}\r\ndisabled={isPostSaved(post._id)}\r\n>\r\n{isPostSaved(post._id) ? \"Saved\" : \"Save\"}\r\n</button>\r\n)}\r\n</div>\r\n<div className=\"card-body\">\r\n<img\r\nsrc={post.imageUrl}\r\nalt={post.title}\r\nclassName=\"img-fluid\"\r\n\r\n/>\r\n\r\n<div className=\"instructions\">\r\n{isLoggedIn && (\r\n  <>\r\n    {post.likes.includes(userID) ? (\r\n      <button onClick={() => unlikePost(post._id)}className=\"unlike\">\r\n        Unlike\r\n      </button>\r\n    ) : (\r\n      <button onClick={() => likePost(post._id)}className=\"like\">\r\n        Like\r\n      </button>\r\n    )}\r\n    <span className=\"like-count\">{post.likesCount} likes</span>\r\n  </>\r\n)}\r\n<p className=\"card-text\">{post.content}</p>\r\n</div>\r\n<div className=\"tags\">\r\n{post.tags.map((tag, index) => (\r\n<ul key={index} className=\"ingredient-list\">\r\n<li className=\"card-text\">#{tag}</li>\r\n</ul>\r\n))}</div>\r\n</div>\r\n</li>\r\n))}\r\n</ul>\r\n</div>\r\n);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}