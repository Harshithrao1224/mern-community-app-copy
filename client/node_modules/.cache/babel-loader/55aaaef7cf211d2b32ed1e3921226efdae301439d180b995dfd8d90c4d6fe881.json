{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/victo/Desktop/mern-community-app-copy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/victo/Desktop/mern-community-app-copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/victo/Desktop/mern-community-app-copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import axios from\"axios\";import{Link,useNavigate}from\"react-router-dom\";import{AuthContext}from'../hooks/AuthProvider';import\"../styles/login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var navigate=useNavigate();var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showPassword=_useState8[0],setShowPassword=_useState8[1];var _useContext=useContext(AuthContext),setIsLoggedIn=_useContext.setIsLoggedIn;var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"https://localhost:4000/auth/login\",{email:email,password:password});case 4:response=_context.sent;window.sessionStorage.setItem(\"userID\",response.data.userID);window.sessionStorage.setItem(\"username\",response.data.username);setIsLoggedIn(true);navigate(\"/\");_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setError(\"Login failed. Please check your email and password.\");case 15:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var togglePassword=function togglePassword(){setShowPassword(function(showPassword){return!showPassword;});};return/*#__PURE__*/_jsx(\"div\",{className:\"login_container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container col-md-6 mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-input\",id:\"email\",placeholder:\"me@example.com\",value:email,onChange:function onChange(event){return setemail(event.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',className:\"form-input\",id:\"password\",placeholder:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);},required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"show-password-icon\",onClick:togglePassword,children:showPassword?'hide':'show'})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-btn\",children:\"LOG IN\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"register-text\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{className:\"register-link\",to:\"/register\",children:\"Sign Up\"})]})]})});};","map":{"version":3,"names":["React","useState","useContext","axios","Link","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setemail","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","navigate","_useState7","_useState8","showPassword","setShowPassword","_useContext","setIsLoggedIn","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","response","wrap","_callee$","_context","prev","next","preventDefault","post","sent","window","sessionStorage","setItem","data","userID","username","t0","console","stop","_x","apply","arguments","togglePassword","className","children","id","htmlFor","type","placeholder","value","onChange","target","required","onClick","to"],"sources":["C:/Users/victo/Desktop/mern-community-app-copy/client/src/pages/login.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from '../hooks/AuthProvider'; \r\n\r\nimport \"../styles/login.css\";\r\n\r\nexport const Login = () => {\r\n  const [email, setemail] = useState(\"\");\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const { setIsLoggedIn } = useContext(AuthContext);\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await axios.post(\"https://localhost:4000/auth/login\", {\r\n        email,\r\n        password\r\n      });\r\n      window.sessionStorage.setItem(\"userID\", response.data.userID);\r\n      window.sessionStorage.setItem(\"username\", response.data.username);\r\n      setIsLoggedIn(true);\r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError(\"Login failed. Please check your email and password.\"); \r\n    }\r\n  };\r\n\r\n        const togglePassword = () => {\r\n            setShowPassword((showPassword) => !showPassword);\r\n          };\r\n       \r\n\r\n    return (\r\n        <div className=\"login_container\">\r\n            <div className=\"form-container col-md-6 mt-5\">\r\n                <h1 className=\"title\">Sign In</h1>\r\n                <form id=\"form\" onSubmit={onSubmit}>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"email\" className=\"form-label\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-input\"\r\n                            id=\"email\"\r\n                            placeholder=\"me@example.com\"\r\n                            value={email}\r\n                            onChange={(event) => setemail(event.target.value)}\r\n                            required                           \r\n                        />\r\n                    </div>              \r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"password\" className=\"form-label\">Password</label>\r\n                        <div className=\"password-input\">\r\n                       \r\n                        <input\r\n                            type={showPassword ? 'text' : 'password'}\r\n                            className=\"form-input\"\r\n                            id=\"password\"\r\n                            placeholder=\"password\"\r\n                            value={password}\r\n                            onChange={(event) => setPassword(event.target.value)}\r\n                            required\r\n                        />\r\n                        <button\r\n                       type=\"button\" className=\"show-password-icon\"\r\n                        onClick={togglePassword}\r\n                        >\r\n                            {showPassword?'hide':'show'}\r\n                        </button>\r\n                        </div>                   \r\n                    </div>                \r\n                    <button type=\"submit\" className=\"login-btn\">LOG IN</button>\r\n                       \r\n                    </form>\r\n                    {error && <p className=\"error-message\">{error}</p>} {/* Display error message */}\r\n                <p className=\"register-text\">Don't have an account?<Link className=\"register-link\" to=\"/register\">Sign Up</Link></p>\r\n            </div>\r\n\r\n           \r\n        </div>\r\n   \r\n       \r\n    );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}